## 環境基盤
- Python（React＋Vite+Tailwind CSS)とsqlite3にすること。
- tailwindcss@3.4.3を使用すること。
- Flaskアプリ開発とすること。
- インストールの説明書は、特に「python init_db.py」が悪く、エラーがボロボロです。必ず確認して下さい。
- バックエンドのインストール先は"C:\Users\kazum\projects\kinnmuhyou_16\back_end"です。
- フロントエンドのインストール先は、”C:\Users\kazum\projects\kinnmuhyou_16\front_end”です。
- 物理ファイル名を、そのまま使うでお願いします。

## 要点
- 【画面】作業報告書入力
    - 作業報告_中村_YYYYMM.xlsx がそのまま画面になったイメージ。
- 【画面】日報入力
    - 新規作成するイメージ。
- 【画面】マスターメンテナンス
    - 新規作成するイメージ。
- 【画面】日報一覧
- 印刷
    - 印刷.pdf　ほぼ仕様書としては同じ。
- フォントは”BIZ UDPゴシック"とし、10pointにする。
- 令和7年は2025年です。

## 機能概要
#### 【画面】報告書入力について（参考：screencapture-2025-09-29-14_32_43.pdf）
- 作業報告_中村_YYYYMM.xlsxで、画面イメージ仕様は、A1～Q59セルとする。
- タイトルのみ「作　業　報　告　書」は14pointにする。（F3セル）
	- センタリングでお願いします。
- 「日報」「マスター」「保存」「印刷」は、作業報告_中村_YYYYMM.xlsxのI2、J2、K2、L2セルにある。
  - 「日報」「マスター」「保存」「印刷」は黒色で
- 左寄せで「令和YY年MM月」は、プルダウンでお願いいたします。（B3セル～E3セルにある）
	- 令和YY年とMM月の選択は別々で
	- 12pointセルとする。
- 作業報告_中村_YYYYMM.xlsxは、忠実に画面のイメージとする。
	- 日付、B9セル
	- 曜日、C9セル
    - 作業時間、D9セル、
    - 作業内容、E9～L9セル
    - ①出社時刻、M9セル
    - ②退社時刻、N9セル
    - "③勤務時間（②－①）"、O9セル
    - ④休憩時間、P9セル
    - "作業時間（③－④）"、Q9セル
	  - これも、幅や高さは同様とする。
- 左詰めで「会社名　　：ソフトベンチャー　　」（作業報告_中村_YYYYMM.xlsxを参照、固定文字列、B5～F5セル）
	- 左詰めでアンダーラインを引く。改行。
    - 長さは、40POINT
- 左詰めで「部署　　　：　　　　　　　　　　」（作業報告_中村_YYYYMM.xlsxを参照、固定文字列、B6～F6セル）
  - 左詰めでアンダーラインを引く。改行。
  - 長さは、40POINT
  - 部署名は空白
- 左詰めで「氏名　　　：中村　一真　　　　　」（作業報告_中村_YYYYMM.xlsxを参照、固定文字列、B7～F7セル）
  - 左詰めでアンダーラインを引く。改行。
  - 長さは、40POINT
- 作業報告書の土は、休みとし、"背景色が薄い青色"とする。
- 作業報告書の日／祝日は、休みとし、"背景色が薄い赤色"とする。
- 作業報告書の初期画面は、月初となる。
  - 「令和7年9月」の場合、2025年9月1日月曜日とする。
- 60進数の小数点以下は2桁とする。例）1:30
- B9～Q9の作業報告書の各列は、以下の通り。（不可は入力出来ない）
  - B9、日付、不可、1～31、例）15
  - C9、曜日、不可、日～土、例）月
  - D9、作業時間、不可、60進数（15分刻み）、例）1:00
  - E9～L9、作業内容、可能、日本語によるコメント、例）今日は晴れだった
    - 例）今日は晴れだった　は特に書かないでいいです。
  - M9、①出社時刻、可能、60進数、例）9:00
  - N9、②退社時刻、可能、60進数、例）18:00
  - O9、③勤務時間（②－①）、不可、60進数、例）9:00
  - P9、④休憩時間、可能、60進数、例）1:00、休憩時間の初期値は0:00です。
  - Q9、⑤作業時間（③－④）、不可、60進数、例）8:00   
- B10～Q40の作業報告書の各列におけるバリデーションエラー
  - 日付：編集不可なので、なし
  - 曜日：編集不可なので、なし
  - 作業時間：編集不可なので、なし
  - 作業内容：日本語によるコメントなので自由
  - ①出社時刻：00:00～23:45、それ以外はエラー
  - ②退社時刻：00:00～23:45、それ以外はエラー
  - ③勤務時間（②－①）：編集不可なので、なし
  - ④休憩時間：00:00～05:00、それ以外はエラー
  - ⑤作業時間（③－④）：編集不可なので、なし
  - 作業報告書の月次"合計"は自動計算で出ること。（D41セル）
    - 合計の一つ一つが、きちんと合うこと
- 作業時間、①出社時刻、②退社時刻、③勤務時間、④休憩時間、⑤作業時間については、初期値はなし。
- 作業報告書（B42セル)の特記事項は、10行分、開けておく。
	- その場合、縦・横は閉めない。
- 計算式："作業時間"は作業時間（③－④）でお願いいたします。
- 計算式："③勤務時間"は、"②退社時刻-①出社時刻"でお願いいたします。
- 計算式："⑤作業時間（③－④）"は、"③勤務時間-④休憩時間"でお願いいたします。
- 選択中の行は、薄い黄色で表している。
	- 「保存」を実行すると、「保存しました」とメッセージが表示される。

#### 【画面】日報入力（新規作成）について
- 日報入力は、開始時間／終了時間、休憩時間、作業時間は作業報告書と全く同じです。
    - **日報入力.xlsx**を参考にして下さい（A1～K35セル）
- 日報入力について、下記項目について直接更新が出来る。
  - 開始時間
  - 終了時間
  - 休憩時間
  - 作業時間
  - 問題点
  - 課題
  - 明日する内容
  - 所感
- 日報入力について開始時間／終了時間をセット出来ること。
  - 開始時間／終了時間についてインターバルは、15分にする。
  - それぞれ00分、15分、30分、45分とする。
  - 「時」と「分」を分ける
    - 例）開始　:　９時００分　　終了　:１７時３０分
    - 作業報告入力：日報　は、”特に無し”と”・”の初期値を消す。
    - 作業報告入力：日報　は、入力例としてサンプルを示す。（サンプルなので入力にはならない）
- 日報入力の休憩時間入力は15分インターバルとする。（00分、15分、30分、45分、60分・・・300分）
- 日報入力について、作業内容・問題点・課題・明日する内容・所感　の入力は1行づつではない。
- 日報入力について、作業時間は4行デフォルト値で、あとは自由に出来る。
- 日報入力について、3行をデフォルト値で、あとは自由に出来る。
  - 問題点
  - 課題
  - 明日する内容
  - 所感
- 日報入力について、横は50文字とする。
#### 【画面】マスターメンテナンス（新規作成）について
- マスターメンテナンスの画面イメージは**マスターメンテナンス.xlsx**とする。（A1～H13です）
- 会社、部署、担当者について、バリデーションチェックは不要。
- 初期値は、会社名＝「ソフトベンチャー」、部署＝「」、氏名＝「中村　一真」とする。
    - 会社名＝会社マスター.ソフトベンチャー（固定）
    - 部署名＝社員マスター.部署名
    - 氏名＝社員マスター.社員名
#### 【画面】日報一覧（新規作成）について
- 日報一覧の画面イメージは**日報一覧.xlsx**とする。（A1～J36です）
- 日報一覧へは、「日報」で遷移する。
#### 印刷機能について
- 印刷は、必ず1ページ内で収まること。
- 印刷はB3～L58（狭める）とする。
- 印刷.pdfも同様に忠実にイメージとする。

## モデル
- 社員マスター：「社員NEW_ID」は運用上のID、社員区分は社員・アルバイト、休職フラグは休職中
	社員ID [PK]
	企業ID
	社員名
	社員NEW_ID
	社員区分
	休職フラグ
    部署名
	
- 会社マスター：会社マスターは基本的には1レコード
	企業ID [PK]
	企業名カナ
	企業名漢字
	企業TEL
	企業担当者
	部・課名
	
- カレンダーマスター：今年から10年後まで祝日を管理している。来年は11年後となる。

- 日報トラン：日報です。
	社員ID [PK]
	年月日 [PK]
	処理概要
	問題点
	課題
	明日する内容
	所感

- 日次トラン：日次の勤務表。
	社員ID [PK]、
	年 [PK]、
	月 [PK]、
	開始時間、
	終了時間、
	遅刻、
	早退、
	時間外、
	深夜、
	休日、
	有給消化、
	承認日

- 月次トラン：月次の経理承認日
	社員ID [PK]、
	年 [PK]、
	月 [PK]、	
	承認日、
	上司承認日、
	経理承認日
      
## その他
- ログを含めて、丁寧に書く
- logファイルは、実行日（yyyymmdd-hhmmss）となるように。
- また、logファイルの情報は日本語で。
- インストール方法は、詳しく、丁寧にお願いします
- 祝日データを API から受け取る前に、カレンダーを描画しようとしてしまい、データが空っぽの状態で祝日を探しに行ってしまったことが原因なので注意。
- デフォルトファイル名: 作業報告\_中村\_202509.xlsx　は不要なので、取る。
- Excel出力は不要

## インストールについて
- インストールは初心者がやります。そのため、丁寧に分かりやすくお願いいたします。
    - インストールは、段階的に一歩一歩でお願いいたします。
- インストール手順書なので、拡張子と名前は正確にお願いいたします。
  
## 最後に
- 最後に、ファイル構成一覧表を作って欲しい。物理ファイル名と論理ファイル名がちゃんと分かること。
- バックエンド (back_end):サーバー側の処理を担当するファイル群です。
    物理ファイル名,論理ファイル名（役割）
    app.py,Flaskアプリケーション本体
    init_db.py,データベース初期化スクリプト
    schema.sql,データベーススキーマ定義
    requirements.txt,Python依存パッケージリスト

- フロントエンド (front_end):ブラウザに表示される画面の処理を担当するファイル群です。
    物理ファイル名,論理ファイル名（役割）
    src/main.jsx,Reactアプリケーションのエントリーポイント
    src/App.jsx,Reactアプリケーション本体
    src/components/ReportScreen.jsx,作業報告書メイン画面コンポーネント
    src/components/ReportTable.jsx,作業報告書テーブルコンポーネント
    src/components/DailyReportModal.jsx,日報入力モーダルコンポーネント
    src/components/MasterModal.jsx,マスターメンテナンスモーダルコンポーネント
    src/components/PrintLayout.jsx,印刷用レイアウトコンポーネント

- 設定ファイル等
    物理ファイル名,論理ファイル名（役割）
    index.html,アプリケーションの土台となるHTML
    package.json,フロントエンド パッケージ定義
    vite.config.js,Vite 設定ファイル
    tailwind.config.js,Tailwind CSS 設定ファイル
    postcss.config.js,PostCSS 設定ファイル
    src/index.css,グローバルCSS（フォント設定等）









- アプリケーションの動作を担当するファイル (JavaScript/JSX)
  - React アプリケーション本体
	  - **ファイル名:** `front_end/src/App.jsx`
  - 作業報告書メイン画面コンポーネント
	  - **ファイル名:** `front_end/src/components/ReportScreen.jsx`
  - 作業報告書テーブルコンポーネント
	  - **ファイル名:** `front_end/src/components/ReportTable.jsx`
  - 印刷用レイアウトコンポーネント
	  - **ファイル名:** `front_end/src/components/PrintLayout.jsx`

- 設定ファイル（例）
  - Vite 設定ファイル
  - Tailwind CSS 設定ファイル
  - PostCSS 設定ファイル
  - グローバルCSS
  - フロントエンド パッケージ定義

